ICMP is protocol , ping cmd use it

scanning : 

-nmap : 
scan single ip 
nmap 192.168.1.1 

can use -v to see the result chwi chwi

scan multiple ips : 
nmap 192.168.1.1/24
nmap 192.168.1.1-100

scan target from list : 
nmap -iL list.txt

-p 443,8080,8443,80
-p- : scan all ports

-sU : scan udp (requires root privilegse)

-Pn : no ping scan (nmap in normall case do ping first to see if the target is alive , but sommetimes the firewall block the ping , so do that )

send output to a file : 
-oN : normal
-oX : xml
-oG : Grepable
-oA : all formats(my go-to)

-T<0-5> : time fast , 5 is fast

-sC : default scripts
-sV : service version

--script=vuln : use NSE (some scanners for somme vulnerbility)

- masscan : 

masscan 192.168.1.10 -p80,443
masscan 192.168.1.10 -p1-1000
masscan 192.168.0.0/16 -p80,443 --rate=1000 :the rate of packets per second (somme firewall detect the speed if packets, so the can block you)
masscan 192.168.1.0/24 -p80,443 --source-port 80 : the origin of the network packets do you send (to Evading Firewalls or ......)
masscan 192.168.1.10 -p80,443 --banners : display banner information from the services running on the target


- netcat : 
we can use it for : 
-- scan ports : nc -nv -w 1 -z <target-ip> <port range>
-- chatting between computers 
-- banner grabbing
-- file transfer
-- for shells

nc -nlvp 12345 : listen to the port 
nc 0.0.0.0 12345 : you can speack with your self

wireshark : 

ARP : transfer the ip adrees of the router (gateway) to mac adress

three hand way sheck : SYN SYN,ACK ACK

_____________________________________________________________________________________________________________________

SMB: server message block
SMB - Server Message Block Protocol - is a client-server communication protocol used for sharing access to files, printers, serial ports and other resources on a network.
The SMB protocol is known as a response-request protocol,
Microsoft Windows operating systems since Windows 95 have included client and server SMB protocol support. Samba, an open source server that supports the SMB protocol, was released for Unix systems.
protocol used for file sharing between devices in microsoft
windows , linux version is samba.

The SMB protocol is known as a response-request protocol

also known as common internet file system (CIFS)

3 version of SMB : 1 , 2 , 3(most secure)

TCP port 139 is SMB over NETBIOS(transport layer protocol) , SMB 1 supported , hostanme must be provided : \\host1\files
TCP port 445 is SMB over IP . (new versions 2,3) , can use IP : \\192.168.1.231\files

three common shares are C$ , Admin¬£ , IPC$
C$ = C drive of the remote host
Admin$ = access t Windows installation Directory
IPC$ = inter-process communication . no access to files or directories.

nmap ip-@ -p xx -sV -sC --script==smb-enum-shares
nmap ip-@ -p xx  --script==smb-enum* -vvv

smbclient : 
smbclient //[IP]/[SHARE]
-U [name] : to specify the user

-p [port] : to specify the port

default username do not required password : Anonymous
rpcclient


--------------------------

crackmapexec

==============================
enum4linux : 

enum4linux [options] ip"

TAG            FUNCTION

-U             get userlist
-M             get machine list
-N             get namelist dump (different from -U and-M)
-S             get sharelist
-P             get password policy information
-G             get group and member list

-a             all of the above (full basic enumeration)


--------------------------------------

NFS : network file system

NFS stands for "Network File System" and allows a system to share directories and files with others over a network

What protocol does NFS use to communicate between the server and client? : RPC

rpcinfo -p 192.168.1.34

if NFS is available, use showmount to view avalable mounting points : shwomount -e 192.168.1.34

you can then mount the file system with the mount cmd and interact with the remote system1

By default, on NFS shares- Root Squashing is enabled, and prevents anyone connecting to the NFS share from having root access to the NFS volume. Remote root users are assigned a user ‚Äúnfsnobody‚Äù when connected, which has the least local privileges. Not what we want. However, if this is turned off, it can allow the creation of SUID bit files, allowing a remote user root access to the connected system. 

NFS Access ->

        Gain Low Privilege Shell ->

            Upload Bash Executable to the NFS share ->

                Set SUID Permissions Through NFS Due To Misconfigured Root Squash ->

                    Login through SSH ->

                        Execute SUID Bit Bash Executable ->

                            ROOT ACCESS

Lets do this!


------------------------------------------

SMTP : simple mail transfer protocol

used to send , receive and relay outgoing emails.

SMTP and POP/IMAP. Together they allow the user to send outgoing mail and retrieve incoming mail, respectively. 

uses port 25.

main attacks are user enumeration and using an open relay to send spam

can use nmap : 
--script=smtp* -p 25

can also use smtp_user-enum 
smtp-user-enum -H VRFY -U users.txt -t <target>

/var/mail/<user>


---------------------------------------------

SNMP : simple network management protocol
is used for network management : great for enumerating device information and configuration
information stored in a databases called the master information base (MIB)

MIBs comprised of object identifiers (OIDs)

uses community strings , which sometimes must be guessed
many hosts use "public" read-only string 

based on udp , port 161

three versions 1,2c,3

nmap -sU 192.168.1.231 -p 161 --script=snmp-win32-users

onesixtyone -c wordlist.txt 192.168.1.231

snmp-check 192.168.1.231

is SNMP is readable and writable , there is a metasploit module to gain a shell : linux/snmp/net_snmpd_rw_access (use snmp-check to see if you can write)

--------------------------------------------------------
FTP : file transfer protocol
not used to execute programs on a remote server
port : 21
can log in anonymously if enabled on the server 
used in web servers to upload files/images
nmap -sV -sC 192.168.1.231 -p 21
ftp 192.168.1.231

ascii mode || binary mode : 
binary mode sends file as is without any alteration
ascii mode is used to transfer text files
swith between modes by entering binary or ascii in ftp server

Active vs Passive

The FTP server may support either Active or Passive connections, or both. 

    In an Active FTP connection, the client opens a port and listens. The server is required to actively connect to it. 
    In a Passive FTP connection, the server opens a port and listens (passively) and the client connects to it.  

default username : anonymous : without password

try to write in ftp 


-----------------------------------------------------------

SSH : secure shell 
replaced telnet as an encrypted communication protocol to remotely interact with a host .
port 22 , but many admins change ports .
asymmetric encryption uses key pairs .
stable shell 
can use tab completion
history
upload , download , execute files

ssh logins can use uername:password combo
or a private key file with or without a passphrase

can use ssh -t <shell type> to specify shell (useful to bupass restricted shells)

ssh port forwarding : 
-Local port forwarding : ssh -L local_port:destination_server_ip:remote_port
-Remote port Forwarding : ssh -R remote_port:localhost:localport
-Dynamic port forwarding : ssh -D local_port ssh_server_hostname


___________________________________________________________________________________

telnet [ip] [port]

___________________________________________________________________________________
The FTP server may support either Active or Passive connections, or both. 

In an Active FTP connection, the client opens a port and listens. The server is required to actively connect to it. 
In a Passive FTP connection, the server opens a port and listens (passively) and the client connects to it. 

--------------------------------------------------------------------------------------------

POP3 : 
# üì¨ POP3 Protocol & Pentesting

## üß† What is POP3?
- **POP3 (Post Office Protocol v3)** is used by email clients to **retrieve messages** from a **remote mail server**.
- Default Ports:
  - `110`: Unencrypted
  - `995`: Encrypted (SSL/TLS)
- POP3 is a **pull protocol** ‚Äî it **downloads** emails and (often) **deletes** them from the server.

---

## üîç Basic POP3 Commands
```txt
USER <username>     # Provide username
PASS <password>     # Provide password
STAT                # Number of messages
LIST                # List all messages
RETR <msg#>         # Retrieve message
DELE <msg#>         # Delete message
QUIT                # End session




